# 🚀 쉽게 배포하는 법

이 문서는 ILJIN GPT Agents를 가장 쉽게 배포하는 방법을 안내합니다.

## ⚡ 가장 쉬운 방법: Streamlit Cloud (5분 완성)

### 1단계: GitHub에 코드 업로드

```bash
# 프로젝트 디렉토리로 이동
cd /Users/dhonghshimlee/Desktop/iljinGPT-agents-master

# Git 초기화 (아직 안 했다면)
git init

# 모든 파일 추가
git add .

# 커밋
git commit -m "Ready for deployment"

# GitHub에 리포지토리 생성 후 연결
# GitHub에서 새 리포지토리 생성: https://github.com/new
git remote add origin https://github.com/yourusername/iljinGPT-agents.git
git branch -M main
git push -u origin main
```

### 2단계: Streamlit Cloud에 배포

1. **[Streamlit Cloud](https://streamlit.io/cloud) 접속**
2. **"Sign in"** 클릭 → GitHub 계정으로 로그인
3. **"New app"** 클릭
4. 설정:
   - **Repository**: 방금 푸시한 리포지토리 선택
   - **Branch**: `main`
   - **Main file path**: `main.py`
   - **Python version**: `3.11`
5. **"Advanced settings"** 클릭 → **"Secrets"** 탭에서 환경 변수 추가:

```
OPENAI_API_KEY=your-openai-api-key
UPSTAGE_API_KEY=your-upstage-api-key
TAVILY_API_KEY=your-tavily-api-key
```

6. **"Deploy!"** 클릭
7. 완료! 🎉 몇 분 후 배포 URL이 생성됩니다.

---

## 🛤️ 대안: Railway 배포 (Docker 지원)

### 1단계: Railway 계정 생성

1. **[Railway.app](https://railway.app)** 접속
2. GitHub 계정으로 로그인

### 2단계: 프로젝트 배포

1. Railway 대시보드에서 **"New Project"** 클릭
2. **"Deploy from GitHub repo"** 선택
3. 리포지토리 선택
4. **"Deploy Now"** 클릭

### 3단계: 환경 변수 설정

1. 프로젝트 대시보드에서 **"Variables"** 탭 클릭
2. 다음 환경 변수 추가:

```
OPENAI_API_KEY=your-openai-api-key
UPSTAGE_API_KEY=your-upstage-api-key
TAVILY_API_KEY=your-tavily-api-key
```

### 4단계: 배포 설정 확인

Railway는 자동으로 Dockerfile을 감지하지만, 필요시:
1. **"Settings"** → **"Deploy"** 섹션 확인
2. **Start Command**가 올바른지 확인:
   ```
   streamlit run main.py --server.port=$PORT --server.address=0.0.0.0
   ```

배포 완료 후 생성된 URL로 접속 가능합니다!

---

## 📋 배포 전 체크리스트

- [ ] `.env` 파일이 `.gitignore`에 포함되어 있는지 확인
- [ ] 필요한 API 키를 모두 준비
- [ ] `requirements.txt` 파일이 최신 상태인지 확인
- [ ] GitHub에 코드가 푸시되었는지 확인

---

## 🔑 필요한 환경 변수

배포 시 다음 환경 변수들이 필요합니다:

| 변수명 | 설명 | 필수 여부 |
|--------|------|----------|
| `OPENAI_API_KEY` | OpenAI API 키 | ✅ 필수 |
| `UPSTAGE_API_KEY` | Upstage API 키 | ✅ 필수 |
| `TAVILY_API_KEY` | Tavily 검색 API 키 | ✅ 필수 |
| `DEEPL_API_KEY` | DeepL 번역 API 키 | ⚠️ 선택 (번역 기능 사용 시) |
| `LANGCHAIN_API_KEY` | LangSmith 추적 (선택사항) | ⚠️ 선택 |

---

## ⚠️ 주의사항

### 파일 크기 제한

- **Streamlit Cloud**: 최대 1GB
- **Railway 무료 티어**: 최대 500MB

`faiss_db/` 폴더의 인덱스 파일이 크면 배포에 문제가 될 수 있습니다. 필요시 `.gitignore`에 추가하여 제외하거나, 배포 후 별도로 업로드하는 방법을 고려하세요.

### 메모리 사용량

대용량 모델이나 인덱스를 사용하는 경우 메모리 부족 오류가 발생할 수 있습니다. 필요시 플랫폼 업그레이드를 고려하세요.

---

## 🆘 문제 해결

### 배포 실패 시

1. **로그 확인**: Streamlit Cloud 또는 Railway 대시보드에서 로그 확인
2. **환경 변수 확인**: 모든 필수 환경 변수가 올바르게 설정되었는지 확인
3. **로컬 테스트**: 먼저 로컬에서 실행해보기
   ```bash
   streamlit run main.py
   ```

### 의존성 설치 실패

`requirements.txt`를 확인하고 문제가 되는 패키지를 제거하거나 대체하세요.

---

## 📊 배포 플랫폼 비교

| 플랫폼 | 난이도 | 무료 티어 | 추천도 |
|--------|--------|----------|--------|
| **Streamlit Cloud** | ⭐ 매우 쉬움 | ✅ | ⭐⭐⭐⭐⭐ |
| **Railway** | ⭐⭐ 쉬움 | ✅ ($5/월 크레딧) | ⭐⭐⭐⭐ |
| **Render** | ⭐⭐ 쉬움 | ✅ | ⭐⭐⭐⭐ |

---

## 🎯 빠른 시작 요약

**가장 빠른 방법 (Streamlit Cloud):**

1. GitHub에 코드 푸시
2. Streamlit Cloud 접속 → New app
3. 리포지토리 선택 → 환경 변수 설정
4. Deploy!
5. 완료! 🎉

**총 소요 시간: 약 5-10분**

---

더 자세한 내용은 다음 문서를 참고하세요:
- `vercel_deployment_guide.md` - 상세한 배포 가이드
- `railway_deployment_guide.md` - Railway 상세 가이드

